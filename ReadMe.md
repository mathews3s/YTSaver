# "YTSaver"

YTSaver - это десктоп-приложение, которое позволяет пользователям легко найти и загрузить видео с платформы 
YouTube, в зависимости от их предпочтений по качеству, расширению видео-файла и другим параметрам, без назойливой 
рекламы, утерянных cookies и перенаправлений на сторонние сервисы :)

## Описание проекта

Целью разработки данного проекта являлось реализация standalone windows-based приложения, позволяющего любым
пользователям получать ресурсы с платформы YouTube прямо на их устройства. 

Языком разработки был выбран Python,
за счет его распространенности среди начинающих разработчиков, обильным количеством библиотек (гораздо упрощает и 
сокращает процесс разработки), а также возможностям по запуску приложений на устройствах, без
установки дополнительных зависимостей.

#### Архитектура приложения:

"YTSaver" основан на архитектурном паттерне MVC (Model-View-Controller). За счет этого достигается возможность 
заменимости компонентов приложения, без потребностей полного рефакторинга проекта при внедрении новых изменений в
модель, контроллер или же графическую часть приложения. Конкретно в данной реализации модель никак не взаимосвязана с 
представлением, а контроллер берет на себя все обязанности по их взаимодействиям.

- View: решает задачи по отображению данных приложения. Представление полностью основано на PyQT5. Все элементы UI 
представляют из себя  QT виджеты, с описанными к ним 
StyleSheets (по аналогии с CSS) и закрепленными сигналами и слотами. Наиболее важным аспектом данного фреймворка 
является EventLoop, запускаемым при старте приложения. Благодаря данной технологии, было возможно отслеживать любые 
изменения виджетов (замена текста, удаление виджета, его выделение), а также пользовательское взаимодействие с ним 
(нажатие кнопок, наведение курсора). Как раз любое событие с виджетом и является QT сигналом, а QT слотом - 
функция-обработчик, вызываемая при воспроизведении события.


- Model: содержит всю бизнес логику приложения, данные и выполняет все операции по их модификации, предоставлению, 
обработке, загрузки/выгрузки в БД и получению со сторонних ресурсов. Главными используемыми технологиями являются библиотеки pyyube_fix и 
requests. PytubeFix предоставляет доступ приложению к основным ресурсам YouTube видео (именование, thumbnail превью, все 
потоки с их параметрами) и методы, по работе с ним, таким как фильтрация потоков или их загрузка. Так же, так как было 
решено полностью отказаться от прогрессивных видео-потоков (содержат в себе сразу и видео, и аудио форматы, но доступные 
разрешения ограничиваются в 720p), потребовалось использование внешних инструментов по объединению аудио и видео. Выбор пал на 
самую быстродействующую среди всех аналогов утилиту FFmpeg, а также библиотеку 
ffmpeg-python, для работы с ним. Для загрузки изображения превью используется бибилотека requests (pytubefix не 
предоставляет инструментов для видео). Таким образом, удалось обеспечить приемлемую скорость полного получения ресурса
(1080p, 30 fps видеофайл загружается и обрабатывается за время ~ 1.5 min). Все загруженные видеофайлы сохраняются в 
историю загрузок и хранятся в базе данных. В качестве БД была выбрана sqlite3, за счет отсутствия необходимости хранить 
объемных данных и совей легковесности, что соответсует политики приложения в отношении сохранения информации.


- Controller: обеспечивает взаимодействие между моделью и представлением, а также выполняет функции по обработке ошибок 
приложения, запуску необходимых компонентов, потоков и осведомлению пользователя о текущих задачах. Здесь представленны 
обработчики событий модели, представления, реализация точек входа и выхода приложения.

  
#### Разработанный функционал:

- UI для отображения и работы с данными приложения;
- Хранение информации о истории загруженных видео (имя, описание, дата загрузки, путь расположения к видео-файлу, 
путь к иконке отображения в списке загруженных видео);
- Просмотр информации о загруженных видео (имя, описание, дата загрузки, путь расположения к видео-файлу, 
иконка для отображения в списке);
- Редактирования информации о загруженных видео (изменение имени, описания, пути расположения видеофайла, 
иконки отображения в списке загруженных видео);
- Удаление загруженных видео (из истории и из с устройства;
- Просмотр превью загруженного видео (плеер позволяет просмотреть загруженный ВИДЕО файл, без аудио, для ознакомления 
с загруженным материалом);
- Поиск и загрузка видео из YouTube, используя фильтры по разрешению, расширению файла, кадрам в секунду, а также 
возможность указать место загрузки;
- Авто восстановление рабочих директорий и БД приложения;
- Установка ffmpeg на устройство при его отсутствии;

## Инструменты разработки и зависимости

###### Инструменты:

- Редактор кода: PyCharm Community Edition 2025.
- Редактор скриптов для сборки установщика: InnoSetup.
- СУБД: DB Browser for SQLite Version 3.13.1

###### Зависимости:

- Версия Python: 3.11
- Версия пакетного менеджера pip: 25.2 
- Версия winget: 1.11.430
- Версия ОС: Windows 10 Pro 22H2
- Тип системы: 64-разрядная операционная система, процессор x64

###### Сторонние пакеты:


Package / Version

- aiohappyeyeballs          2.6.1
- aiohttp                   3.12.15
- aiosignal                 1.4.0
- altgraph                  0.17.4
- attrs                     25.3.0
- auto-py-to-exe            2.47.0
- bottle                    0.13.4
- bottle-websocket          0.2.9
- certifi                   2025.8.3
- cffi                      2.0.0
- charset-normalizer        3.4.3
- click                     8.3.0
- colorama                  0.4.6
- Eel                       0.18.2
- ffmpeg-python             0.2.0
- frozenlist                1.7.0
- future                    1.0.0
- gevent                    25.9.1
- gevent-websocket          0.10.1
- greenlet                  3.2.4
- qt5-applications          5.15.2.2.3
- qt5-tools                 5.15.2.1.3
- requests                  2.32.5
- setuptools                80.9.0
- typing_extensions         4.15.0
- urllib3                   2.5.0
- yarl                      1.20.1
- zope.event                6.0
- zope.interface            8.0

## Сборка проекта

pyinstaller --noconfirm --onefile --windowed --icon "D:\PythonWork\YTSaver-Final\app\appData\appIcons\YTS.ico"  "D:\PythonWork\YTSaver-Final\YTSaver.py"


## Установка и использование ПО "YTSaver"

#### Целевая аудитория

Приложение рассчитано на уверенных пользователей ПК, требуются базовые знания по работе с ОС Windows и PowerShell,
опыт использования платформы YouTube. Ограничений по возрастным группам не имеется. Приложение рассчитанно на 
русскоговорящую аудиторию, однако для комфортного использования требуется базовый уровень владения английским.

## Инструкции по установке

Перед установкой, проверьте соответствие характеристик вашего устройство техническим требованиям.

Для установки ПО выполните следующие действия:
1. Загрузите файл установщика YTSaverInstaller.exe. 
2. По завершению загрузки, запустите исполняемый файл и следуйте инструкциям SetupWizard. 
3. По завершению установки, в указанной вами папке будет находиться исполняемый файл 
приложения YTSaver.exe, запустите его. 
4. Если у вас на устройстве отсутствует FFmpeg, в появившемся консольном окне вам будет предложено установить его. 
(Если вы не доверяете установщику, можете выполнить загрузку самостоятельно)
5. Если FFmpeg был загружен установщиком, вам будет предложено перезапустить ваше устройство. Выполните перезагрузку ОС.
6. Запустите приложение и пройдите проверку наличия FFmpeg (автоматически).
7. Приложение "YTSaver" готово к использованию!

## Примеры использования

Примеры использования проекта

## Вклад в проект

"YTSaver" является open-source продуктом. В любой момент вы можете предложить свои изменения 
в основной репозиторий. Пожалуйста, соблюдайте условия "commit rules" и создавайте отдельную ветку 
для разработки.

Поддержите проект, поставив звезду на репозиторий и подписавшись на профиль!

## Авторы

Matsvei Uharenka, biginner software developer;

## Лицензия

Проект создавался под Generel Purpose License 2.0 (GPL-2.0). 

## Послесловие

Если вы просмотрели всю информацию до конца, огромная благодарность за проявленный 
интерес к моей работе!